{
    "name": "Flutter 4 Android",
    "build": {
        "dockerfile": "Dockerfile",
        "args": {
            "USERNAME": "vscode"
        }
    },

    "containerEnv": {
        "SHELL": "/bin/bash",
        "CHROME_EXECUTABLE": "/usr/bin/chromium"
    },

    "mounts": [
        "source=${localWorkspaceFolder}/.devcontainer/.bashrc,target=/home/vscode/.bashrc.extra,readonly,type=bind"
    ],

    "runArgs": [
        "--platform",
        "linux/amd64",
        "--name",
        "${localWorkspaceFolderBasename}_flutter4android_devcontainer"
    ],

    "onCreateCommand": "bash ./.devcontainer/on-create.sh",
    "postStartCommand": "bash ./.devcontainer/post-start.sh",

    "waitFor": "onCreateCommand",

    "remoteUser": "vscode",

    "features": {
        "ghcr.io/devcontainers-extra/features/starship": {},
        "ghcr.io/devcontainers-extra/features/go-task:1": {}
    },

    "customizations": {
        "vscode": {
            "extensions": [
                "Dart-Code.dart-code",
                "Dart-Code.flutter",
                "task.vscode-task",
                "redhat.vscode-yaml"
            ]
        }
    }
}
